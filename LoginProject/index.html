<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>USER DECLARATION</title>

    <!-- Bootstrap core CSS -->
    <link href="public\plugins\bootstrap\css\bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <!-- Font Awesome CSS -->
    <link href="public/plugins/font-awesome/css/all.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link href="public/css/login.css" rel="stylesheet" />

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <style>
    </style>
</head>

<body>
    <div class="container-fluid" style="margin-top:100px; margin-bottom: 100px;">

        <!-- Login Form -->
        <div class="row" id="login-panel">
            <div class="col-md-4"></div>
            <div class="col-md-4">
                <div class="panel-primary" id="loginDiv">
                    <div class="panel-heading">
                        <b style="font-family: 'Inter', sans-serif; color: rgb(57, 53, 55);"> Log In</b>
                        <br>
                        <p style="font-size: 12px; margin-bottom: 0px; font-family: 'Inter', sans-serif;">Welcome! Enter your details below to log in to your account.</p>
                    </div>

                    <form id="frmLogin" method="POST">
                        <div class="panel-body">
                            <div id="admin-msg"></div>
                            <div class="row">
                                <div class="col-md-12">
                                    <img src="public/img/default.jpg" id="loginavatar" style="width:100px;height:100px;display: block;margin: 0 auto;border: 0px solid;border-radius: 100%;object-fit: cover;" class="img-circle img-responsive">
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa-regular fa-user"></i></span>
                                        <input type="text" name="username" id="username" placeholder="Enter Username" required class="form-control">
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa-solid fa-key"></i></span>
                                        <input type="password" name="password" id="password" class="form-control" placeholder="Enter Password" required>
                                    </div>
                                    <p> Don't have an account? <a id="registerLink" href="#" style="text-decoration: none;" onclick="showRegisterForm(event)"> <b style="font-size: 12px; margin-bottom: 0px; font-family: 'Inter', sans-serif; color: #d34c99;">Register now</b></a> </p>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-12">
                                    <input type="hidden" name="action" value="isLogin">
                                    <button type="submit" class="btn btn-primary" id="btnLogin" style="font-family: Arial, Helvetica, sans-serif; font-size: medium;">Log In</button>
                                </div>
                            </div>
                            <br>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- Register Form -->
        <div class="row" id="registerDiv" style="display: none;">
            <div class="col-md-4"></div>
            <div class="col-md-4">
                <div class="panel panel-primary"> 
                    <div class="panel-heading">
                        <b style="font-family: 'Inter', sans-serif; color: rgb(57, 53, 55);"> Create Account</b>
                        <br>
                        <p >Fill in your details below to create an account.</p>
                    </div>
                    <form id="frmRegister" method="POST" enctype="multipart/form-data">
                        <div class="panel-body">
                            <!-- image -->
                            <div class="row mb-3">
                                <div class="col-md-12 text-center">
                                    <!-- Placeholder Image -->
                                    <img id="profileImagePreview" src="https://via.placeholder.com/150" alt="Profile Image" style="cursor: pointer; width: 150px; height: 150px; border-radius: 50%; border: 2px solid #ccc;" onclick="document.getElementById('profileImage').click()">
                                    <br><br>
                                    <!-- Hidden File Input -->
                                    <input type="file" name="profileImage" id="profileImage" accept="image/*" style="display: none;" onchange="previewImage(event)">
                                    <p>Tap to Upload Profile Picture</p>
                                </div>
                            </div>
                            <!-- Email -->
                            <div class="row mb-3">
                                <div class="col-md-12">
                                    <div class="input-group">
                                        <input type="email" name="regEmail" id="regEmail" placeholder="Enter Email" required class="form-control">
                                    </div>
                                </div>
                            </div>

                            <!-- Username -->
                            <div class="row mb-3">
                                <div class="col-md-12">
                                    <div class="input-group">
                                        <input type="text" name="regUsername" id="regUsername" placeholder="Enter Username" required class="form-control">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Password -->
                            <div class="row mb-3">
                                <div class="col-md-12">
                                    <div class="input-group">
                                        <input type="password" name="regPassword" id="regPassword" placeholder="Enter Password" required class="form-control">
                                    </div>
                                </div>
                            </div>
                            <!-- Confirm Password -->
                            <div class="row mb-3">
                                <div class="col-md-12">
                                    <div class="input-group">
                                        <input type="password" name="regConfirmPassword" id="regConfirmPassword" placeholder="Confirm Password" required class="form-control">
                                    </div>
                                    <p> Already have an account? <a id="loginLink" href="#" style="text-decoration: none; color: #d34c99;" onclick="showLoginForm(event); resetImagePreview()"> <b style="font-size: 12px; margin-bottom: 0px; font-family: 'Inter', sans-serif;">Log In</b></a> </p>
                                </div>
                            </div>
                            <!-- Register Button -->
                            <div class="row mb-3">
                                <div style="padding-bottom: 30px;" class="col-md-12">
                                    <button type="submit" class="btn btn-primary" id="btnRegister" style="font-family: Arial, Helvetica, sans-serif; font-size: medium;">Sign in</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        

    </div>






    <script src="public/plugins/jquery/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="public/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script>
        // Show registration form
        function showRegisterForm(event) {
            event.preventDefault(); // Prevent default anchor behavior
            document.getElementById('login-panel').style.display = 'none'; // Hide login div
            document.getElementById('registerDiv').style.display = 'flex'; // Show register div
            document.body.classList.add('scrollable');  // Enable scroll for body
            document.body.classList.remove('no-scroll'); 
        }

        // Show login form
        function showLoginForm(event) {
            event.preventDefault(); // Prevent default anchor behavior
            document.getElementById('registerDiv').style.display = 'none'; // Hide register div
            document.getElementById('login-panel').style.display = 'flex'; // Show login div
            document.body.classList.add('no-scroll');  // Disable scroll for body
            document.body.classList.remove('scrollable');  // 
        }

        function previewImage(event) {
        const reader = new FileReader();
        reader.onload = function() {
            const output = document.getElementById('profileImagePreview');
            output.src = reader.result; // Set the uploaded image as the new source of the placeholder
        }
        reader.readAsDataURL(event.target.files[0]); // Read the selected file as a data URL
            }

            function resetImagePreview() {
            document.getElementById('profileImagePreview').src = "https://via.placeholder.com/150"; // Reset to placeholder image
            document.getElementById('profileImage').value = ""; // Clear the file input
        }

    </script>
</body>
</html>
